# Kubernetes Deployment for Splunk(project 1)


To install and configure defaults with Helm:

Before Starting Download Kubectl, Helm3, Minikube and Splunk


Install the Connector Manually, using custom values ( Method - 1)

```bash
minikube start

helm install demo  -f myvalues.yaml helm-chart/splunk-connect-for-kubernetes

helm upgrade demo  -f myvalues.yaml helm-chart/splunk-connect-for-kubernetes

kubectl get pods -A

kubectl apply -f test_setup.yaml

kubectl get pods -A


```

Install the Connector from Helm repository ( Method - 2)

* Add Splunk chart repo 
```bash

minikube start


helm repo add splunk https://splunk.github.io/splunk-connect-for-kubernetes/

helm show values splunk/splunk-connect-for-kubernetes > myvalues.yaml


helm install my-splunk-connect -f myvalues.yaml splunk/splunk-connect-for-kubernetes

kubectl get pods -A

kubectl apply -f test_setup.yaml

kubectl get pods -A


```



#   Deployment on Web (Project -2)
This offers detailed instructions for setting up Helm on a Windows PC, investigating the structure of Helm charts, adding repositories, looking for apps, downloading and installing Helm charts, and overseeing Kubernetes deployments.

## Installation on Windows

Take these actions to install Helm on your Windows computer:

1. Install Chocolatey and run following command:
> `choco install kubernetes-helm`
2. To verify helm installation:
> `helm version`

## Helm chart structure

Applications are arranged by Helm into packages known as Helm charts. Every chart consists of several YAML files. You may use the following example to investigate the structure of a Helm chart:

>`git clone https://github.com/helm/charts-repo-actions-demo`
>`cd charts-repo-actions-demo/charts/example-v2`
>`tree`

## Adding Repositories to Helm

Helm stores and retrieves charts using repositories. You can use the following commands to add repositories:
1. Add stable repository
>` helm repo add stable https://charts.helm.sh/stable`
2. List available repositories
>`helm repo list`
3. Add Bitnami charts repository
>`helm repo add bitnami https://charts.bitnami.com/bitnami`

## Searching and Downloading Helm Charts

Search for charts in repositories and download them using the following commands:
1. Enter the following command to look up the application you need on charts:
> `helm search repo <application>`
2. Run another command to download the chart for that specific application:
>`helm pull bitnami/wordpress`
3. View chart README
>`helm inspect readme bitnami/wordpress`
4. View complete chart content
>`helm inspect all bitnami/wordpress | less`

## Installing Helm Charts

Install an application using Helm charts with the following command:
> `helm install wordpress bitnami/wordpress --set service.type=NodePort`

NOTE: Since we're running this example at minikube and not the actual cluster, we're using â€“set service.type=NodePort in the command to change the Kubernetes service type.

Verify the deployment:
>`helm ls`

Use the following command to view the resources generated by the helm chart:
>`kubectl get all`

Access the application through the URL in your web browser


## Deleting Helm Deployments

Use the following command to halt and remove the installed WordPress installation:
>`helm delete wordpress`

Run the following to confirm that the chart has been removed:
>`helm ls`
